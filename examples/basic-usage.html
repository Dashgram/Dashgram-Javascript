<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashgram SDK - Basic Usage</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <h1>Basic Usage Example</h1>
    <button id="subscribe-btn">Subscribe</button>
    <button id="purchase-btn">Purchase</button>

    <script type="module">
      // Import from published npm package
      import DashgramMini from "@dashgram/javascript"

      // Initialize SDK
      DashgramMini.init({
        projectId: "your-project-id",
        apiKey: "your-api-key",
        trackLevel: 2, // Track interactions
        debug: true // Enable debug logs in development
      })

      // Track custom events
      document.getElementById("subscribe-btn").addEventListener("click", () => {
        DashgramMini.track("button_clicked", {
          button_name: "subscribe",
          screen: "home",
          timestamp: new Date().toISOString()
        })
      })

      document.getElementById("purchase-btn").addEventListener("click", () => {
        DashgramMini.track("purchase_initiated", {
          product_id: "premium-plan",
          price: 9.99,
          currency: "USD"
        })
      })

      // Identify user when they log in
      // This would typically be called after authentication
      function onUserLogin(userId, userEmail) {
        DashgramMini.identify(userId, {
          email: userEmail,
          plan: "free",
          signup_date: new Date().toISOString()
        })
      }
    </script>
  </body>
</html>
